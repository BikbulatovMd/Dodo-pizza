<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragments/header :: head('Zmena hesla')}"></head>
  <body class="bg-dodo-light min-h-screen flex flex-col">
    <nav th:replace="~{fragments/header :: navbar}"></nav>
    <div th:replace="~{fragments/alerts :: alerts}"></div>

    <main class="flex-grow">
      <div class="max-w-md mx-auto px-4 py-8">
        <a href="/profile" class="text-dodo-orange hover:underline mb-4 inline-block"
          >&larr; Sp√§≈• na profil</a
        >
        <h1 class="text-3xl font-bold text-dodo-dark mb-8">üîí Zmena hesla</h1>

        <div class="bg-white rounded-2xl shadow-lg p-6">
          <form
            th:action="@{/profile/password}"
            th:object="${passwordChange}"
            method="post"
            class="space-y-4"
          >
            <div>
              <label for="currentPassword" class="block text-sm font-medium text-gray-700 mb-1"
                >Aktu√°lne heslo</label
              >
              <input
                type="password"
                id="currentPassword"
                th:field="*{currentPassword}"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
                th:classappend="${#fields.hasErrors('currentPassword')} ? 'border-red-500' : ''"
              />
              <p
                th:if="${#fields.hasErrors('currentPassword')}"
                th:errors="*{currentPassword}"
                class="text-red-500 text-sm mt-1"
              ></p>
            </div>

            <div>
              <label for="newPassword" class="block text-sm font-medium text-gray-700 mb-1"
                >Nov√© heslo</label
              >
              <input
                type="password"
                id="newPassword"
                th:field="*{newPassword}"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
                th:classappend="${#fields.hasErrors('newPassword')} ? 'border-red-500' : ''"
              />
              <p
                th:if="${#fields.hasErrors('newPassword')}"
                th:errors="*{newPassword}"
                class="text-red-500 text-sm mt-1"
              ></p>
              <p class="text-gray-500 text-xs mt-1">
                Min. 8 znakov, veƒæk√© a mal√© p√≠smeno, ƒç√≠slo, ≈°peci√°lny znak
              </p>
            </div>

            <div>
              <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1"
                >Potvrdenie hesla</label
              >
              <input
                type="password"
                id="confirmPassword"
                th:field="*{confirmPassword}"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
                th:classappend="${#fields.hasErrors('confirmPassword')} ? 'border-red-500' : ''"
              />
              <p
                th:if="${#fields.hasErrors('confirmPassword')}"
                th:errors="*{confirmPassword}"
                class="text-red-500 text-sm mt-1"
              ></p>
            </div>

            <div class="flex gap-4 pt-4">
              <a
                href="/profile"
                class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition text-center"
              >
                Zru≈°i≈•
              </a>
              <button
                type="submit"
                class="flex-1 bg-dodo-orange text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition"
              >
                Zmeni≈• heslo
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <footer th:replace="~{fragments/footer :: footer}"></footer>
  </body>
</html>
