<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragments/header :: head('Upraviť profil')}"></head>
  <body class="bg-dodo-light min-h-screen flex flex-col">
    <nav th:replace="~{fragments/header :: navbar}"></nav>
    <div th:replace="~{fragments/alerts :: alerts}"></div>

    <main class="flex-grow">
      <div class="max-w-xl mx-auto px-4 py-8">
        <a href="/profile" class="text-dodo-orange hover:underline mb-4 inline-block"
          >&larr; Späť na profil</a
        >
        <h1 class="text-3xl font-bold text-dodo-dark mb-8">✏️ Upraviť profil</h1>

        <div class="bg-white rounded-2xl shadow-lg p-6">
          <form th:action="@{/profile/edit}" th:object="${profile}" method="post" class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1"
                  >Meno</label
                >
                <input
                  type="text"
                  id="firstName"
                  th:field="*{firstName}"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
                  th:classappend="${#fields.hasErrors('firstName')} ? 'border-red-500' : ''"
                />
                <p
                  th:if="${#fields.hasErrors('firstName')}"
                  th:errors="*{firstName}"
                  class="text-red-500 text-sm mt-1"
                ></p>
              </div>
              <div>
                <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1"
                  >Priezvisko</label
                >
                <input
                  type="text"
                  id="lastName"
                  th:field="*{lastName}"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
                  th:classappend="${#fields.hasErrors('lastName')} ? 'border-red-500' : ''"
                />
                <p
                  th:if="${#fields.hasErrors('lastName')}"
                  th:errors="*{lastName}"
                  class="text-red-500 text-sm mt-1"
                ></p>
              </div>
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
              <input
                type="email"
                id="email"
                th:field="*{email}"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
                th:classappend="${#fields.hasErrors('email')} ? 'border-red-500' : ''"
              />
              <p
                th:if="${#fields.hasErrors('email')}"
                th:errors="*{email}"
                class="text-red-500 text-sm mt-1"
              ></p>
            </div>

            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-1"
                >Telefón</label
              >
              <input
                type="tel"
                id="phone"
                th:field="*{phone}"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
              />
            </div>

            <div>
              <label for="deliveryAddress" class="block text-sm font-medium text-gray-700 mb-1"
                >Adresa doručenia</label
              >
              <input
                type="text"
                id="deliveryAddress"
                th:field="*{deliveryAddress}"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dodo-orange focus:border-transparent"
              />
            </div>

            <div class="flex gap-4 pt-4">
              <a
                href="/profile"
                class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition text-center"
              >
                Zrušiť
              </a>
              <button
                type="submit"
                class="flex-1 bg-dodo-orange text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition"
              >
                Uložiť zmeny
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <footer th:replace="~{fragments/footer :: footer}"></footer>
  </body>
</html>
